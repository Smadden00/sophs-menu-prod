"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/recipes";
exports.ids = ["pages/api/recipes"];
exports.modules = {

/***/ "aws-sdk":
/*!**************************!*\
  !*** external "aws-sdk" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("aws-sdk");

/***/ }),

/***/ "next-auth":
/*!****************************!*\
  !*** external "next-auth" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("next-auth");

/***/ }),

/***/ "next-auth/next":
/*!*********************************!*\
  !*** external "next-auth/next" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("next-auth/next");

/***/ }),

/***/ "next-auth/providers/google":
/*!*********************************************!*\
  !*** external "next-auth/providers/google" ***!
  \*********************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/google");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "pg":
/*!*********************!*\
  !*** external "pg" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("pg");

/***/ }),

/***/ "formidable":
/*!*****************************!*\
  !*** external "formidable" ***!
  \*****************************/
/***/ ((module) => {

module.exports = import("formidable");;

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Frecipes&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Frecipes%2Findex.ts&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Frecipes&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Frecipes%2Findex.ts&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_recipes_index_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/recipes/index.ts */ \"(api)/./pages/api/recipes/index.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_recipes_index_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_recipes_index_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_recipes_index_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_recipes_index_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/recipes\",\n        pathname: \"/api/recipes\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_recipes_index_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnJlY2lwZXMmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyUyRmFwaSUyRnJlY2lwZXMlMkZpbmRleC50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUN5RDtBQUN6RDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsd0RBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLHdEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCxxQyIsInNvdXJjZXMiOlsid2VicGFjazovLy8/NmFhYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvYXBpL3JlY2lwZXMvaW5kZXgudHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9yZWNpcGVzXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcmVjaXBlc1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Frecipes&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Frecipes%2Findex.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./backend-utils.js":
/*!**************************!*\
  !*** ./backend-utils.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n//This file makes a pool instance to use to connnect to the database.\nconst { Pool } = __webpack_require__(/*! pg */ \"pg\");\nconst pool = new Pool({\n    user: process.env.PGUSER,\n    host: process.env.PGHOST,\n    database: process.env.PGDATABASE,\n    password: process.env.PGPASSWORD,\n    port: Number(process.env.PGPORT),\n    max: 20,\n    idleTimeoutMillis: 30000,\n    connectionTimeoutMillis: 2000\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (pool);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9iYWNrZW5kLXV0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxxRUFBcUU7QUFFckUsTUFBTSxFQUFFQSxJQUFJLEVBQUUsR0FBR0MsbUJBQU9BLENBQUM7QUFFekIsTUFBTUMsT0FBTyxJQUFJRixLQUFLO0lBQ2xCRyxNQUFNQyxRQUFRQyxHQUFHLENBQUNDLE1BQU07SUFDeEJDLE1BQU1ILFFBQVFDLEdBQUcsQ0FBQ0csTUFBTTtJQUN4QkMsVUFBVUwsUUFBUUMsR0FBRyxDQUFDSyxVQUFVO0lBQ2hDQyxVQUFVUCxRQUFRQyxHQUFHLENBQUNPLFVBQVU7SUFDaENDLE1BQU1DLE9BQU9WLFFBQVFDLEdBQUcsQ0FBQ1UsTUFBTTtJQUMvQkMsS0FBSztJQUNMQyxtQkFBbUI7SUFDbkJDLHlCQUF5QjtBQUM3QjtBQUVBLGlFQUFlaEIsSUFBSUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2JhY2tlbmQtdXRpbHMuanM/YTNjMiJdLCJzb3VyY2VzQ29udGVudCI6WyIvL1RoaXMgZmlsZSBtYWtlcyBhIHBvb2wgaW5zdGFuY2UgdG8gdXNlIHRvIGNvbm5uZWN0IHRvIHRoZSBkYXRhYmFzZS5cblxuY29uc3QgeyBQb29sIH0gPSByZXF1aXJlKCdwZycpO1xuXG5jb25zdCBwb29sID0gbmV3IFBvb2woe1xuICAgIHVzZXI6IHByb2Nlc3MuZW52LlBHVVNFUixcbiAgICBob3N0OiBwcm9jZXNzLmVudi5QR0hPU1QsXG4gICAgZGF0YWJhc2U6IHByb2Nlc3MuZW52LlBHREFUQUJBU0UsXG4gICAgcGFzc3dvcmQ6IHByb2Nlc3MuZW52LlBHUEFTU1dPUkQsXG4gICAgcG9ydDogTnVtYmVyKHByb2Nlc3MuZW52LlBHUE9SVCksXG4gICAgbWF4OiAyMCxcbiAgICBpZGxlVGltZW91dE1pbGxpczogMzAwMDAsXG4gICAgY29ubmVjdGlvblRpbWVvdXRNaWxsaXM6IDIwMDBcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBwb29sOyJdLCJuYW1lcyI6WyJQb29sIiwicmVxdWlyZSIsInBvb2wiLCJ1c2VyIiwicHJvY2VzcyIsImVudiIsIlBHVVNFUiIsImhvc3QiLCJQR0hPU1QiLCJkYXRhYmFzZSIsIlBHREFUQUJBU0UiLCJwYXNzd29yZCIsIlBHUEFTU1dPUkQiLCJwb3J0IiwiTnVtYmVyIiwiUEdQT1JUIiwibWF4IiwiaWRsZVRpbWVvdXRNaWxsaXMiLCJjb25uZWN0aW9uVGltZW91dE1pbGxpcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./backend-utils.js\n");

/***/ }),

/***/ "(api)/./components/functions/encrypt.tsx":
/*!******************************************!*\
  !*** ./components/functions/encrypt.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Encrypt)\n/* harmony export */ });\nconst crypto = __webpack_require__(/*! crypto */ \"crypto\");\nfunction Encrypt(text) {\n    try {\n        const cipher = crypto.createCipheriv(\"aes-256-ecb\", process.env.ENCRYPTION_SECRET_KEY, null);\n        let encrypted = cipher.update(text, \"utf8\", \"hex\");\n        encrypted += cipher.final(\"hex\");\n        return encrypted;\n    } catch (error) {\n        console.log(error);\n        return \"\";\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9jb21wb25lbnRzL2Z1bmN0aW9ucy9lbmNyeXB0LnRzeCIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsTUFBTUEsU0FBU0MsbUJBQU9BLENBQUM7QUFFUixTQUFTQyxRQUFRQyxJQUFZO0lBQ3hDLElBQUc7UUFDQyxNQUFNQyxTQUFTSixPQUFPSyxjQUFjLENBQUMsZUFBZUMsUUFBUUMsR0FBRyxDQUFDQyxxQkFBcUIsRUFBRTtRQUN2RixJQUFJQyxZQUFZTCxPQUFPTSxNQUFNLENBQUNQLE1BQU0sUUFBUTtRQUM1Q00sYUFBYUwsT0FBT08sS0FBSyxDQUFDO1FBQzFCLE9BQU9GO0lBQ1gsRUFBRSxPQUFPRyxPQUFNO1FBQ1hDLFFBQVFDLEdBQUcsQ0FBQ0Y7UUFDWixPQUFPO0lBQ1g7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2NvbXBvbmVudHMvZnVuY3Rpb25zL2VuY3J5cHQudHN4P2ZkNDIiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgY3J5cHRvID0gcmVxdWlyZSgnY3J5cHRvJyk7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEVuY3J5cHQodGV4dDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICB0cnl7XG4gICAgICAgIGNvbnN0IGNpcGhlciA9IGNyeXB0by5jcmVhdGVDaXBoZXJpdignYWVzLTI1Ni1lY2InLCBwcm9jZXNzLmVudi5FTkNSWVBUSU9OX1NFQ1JFVF9LRVksIG51bGwpOyAgICBcbiAgICAgICAgbGV0IGVuY3J5cHRlZCA9IGNpcGhlci51cGRhdGUodGV4dCwgJ3V0ZjgnLCAnaGV4Jyk7XG4gICAgICAgIGVuY3J5cHRlZCArPSBjaXBoZXIuZmluYWwoJ2hleCcpO1xuICAgICAgICByZXR1cm4gZW5jcnlwdGVkO1xuICAgIH0gY2F0Y2ggKGVycm9yKXtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxufVxuICAiXSwibmFtZXMiOlsiY3J5cHRvIiwicmVxdWlyZSIsIkVuY3J5cHQiLCJ0ZXh0IiwiY2lwaGVyIiwiY3JlYXRlQ2lwaGVyaXYiLCJwcm9jZXNzIiwiZW52IiwiRU5DUllQVElPTl9TRUNSRVRfS0VZIiwiZW5jcnlwdGVkIiwidXBkYXRlIiwiZmluYWwiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./components/functions/encrypt.tsx\n");

/***/ }),

/***/ "(api)/./components/requests/uploadPhoto.tsx":
/*!*********************************************!*\
  !*** ./components/requests/uploadPhoto.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ UploadPhoto)\n/* harmony export */ });\nconst fs = __webpack_require__(/*! fs */ \"fs\");\nconst AWS = __webpack_require__(/*! aws-sdk */ \"aws-sdk\");\nasync function UploadPhoto(formidableFiles, photoKey) {\n    /*\n    This function takes in formidable file data, uploads it to the s3 bucket, then deletes the image data off of the server if the upload was successful.\n    */ try {\n        //get the data of the image saved on the server\n        const imageFilePath = formidableFiles.imageFile[0].filepath;\n        const imageData = await fs.promises.readFile(imageFilePath);\n        //establish connectin with S3 using access key\n        const s3 = new AWS.S3({\n            apiVersion: \"2006-03-01\",\n            accessKeyId: process.env.S3_ACCESS_KEY,\n            secretAccessKey: process.env.S3_SECRET_ACCESS_KEY,\n            region: process.env.S3_BUCKET_REGION\n        });\n        //Upload the image to S3\n        const s3Response = await s3.putObject({\n            Body: imageData,\n            Bucket: \"sophs-menu-bucket\",\n            Key: photoKey\n        }).promise();\n        //Delete the file from the server afterwards\n        fs.unlink(imageFilePath, (err)=>{\n            if (err) {\n                throw new Error(\"Error deleting file: \", err);\n            } else {\n                console.log(\"Successfully deleted file from server\");\n            }\n        });\n        return {\n            status: \"Success\",\n            response: s3Response\n        };\n    } catch (err) {\n        console.error(\"There was an error in image upload or server file deletion:\", err);\n        return {\n            status: \"Failure\",\n            response: null,\n            err: err\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9jb21wb25lbnRzL3JlcXVlc3RzL3VwbG9hZFBob3RvLnRzeCIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsTUFBTUEsS0FBS0MsbUJBQU9BLENBQUM7QUFDbkIsTUFBTUMsTUFBTUQsbUJBQU9BLENBQUM7QUFFTCxlQUFlRSxZQUFZQyxlQUFlLEVBQUVDLFFBQVE7SUFDL0Q7O0lBRUEsR0FDQSxJQUFJO1FBQ0EsK0NBQStDO1FBQy9DLE1BQU1DLGdCQUFnQkYsZ0JBQWdCRyxTQUFTLENBQUMsRUFBRSxDQUFDQyxRQUFRO1FBQzNELE1BQU1DLFlBQVksTUFBTVQsR0FBR1UsUUFBUSxDQUFDQyxRQUFRLENBQUNMO1FBRTdDLDhDQUE4QztRQUM5QyxNQUFNTSxLQUFLLElBQUlWLElBQUlXLEVBQUUsQ0FBQztZQUNsQkMsWUFBWTtZQUNaQyxhQUFhQyxRQUFRQyxHQUFHLENBQUNDLGFBQWE7WUFDdENDLGlCQUFpQkgsUUFBUUMsR0FBRyxDQUFDRyxvQkFBb0I7WUFDakRDLFFBQVFMLFFBQVFDLEdBQUcsQ0FBQ0ssZ0JBQWdCO1FBQ3hDO1FBRUEsd0JBQXdCO1FBQ3hCLE1BQU1DLGFBQWEsTUFBTVgsR0FBR1ksU0FBUyxDQUFDO1lBQ2xDQyxNQUFNaEI7WUFDTmlCLFFBQVE7WUFDUkMsS0FBS3RCO1FBQ1QsR0FBR3VCLE9BQU87UUFFViw0Q0FBNEM7UUFDNUM1QixHQUFHNkIsTUFBTSxDQUFDdkIsZUFBZSxDQUFDd0I7WUFDdEIsSUFBSUEsS0FBSztnQkFDTCxNQUFNLElBQUlDLE1BQU0seUJBQXlCRDtZQUM3QyxPQUFPO2dCQUNIRSxRQUFRQyxHQUFHLENBQUM7WUFDaEI7UUFDSjtRQUVBLE9BQU87WUFBQ0MsUUFBUTtZQUFXQyxVQUFVWjtRQUFVO0lBRW5ELEVBQUUsT0FBTU8sS0FBSTtRQUNSRSxRQUFRSSxLQUFLLENBQUMsK0RBQStETjtRQUM3RSxPQUFPO1lBQUNJLFFBQVE7WUFBV0MsVUFBVTtZQUFNTCxLQUFLQTtRQUFHO0lBQ3ZEO0FBRUoiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL3JlcXVlc3RzL3VwbG9hZFBob3RvLnRzeD9jYjQ1Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKTtcbmNvbnN0IEFXUyA9IHJlcXVpcmUoJ2F3cy1zZGsnKTtcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gVXBsb2FkUGhvdG8oZm9ybWlkYWJsZUZpbGVzLCBwaG90b0tleSkge1xuICAgIC8qXG4gICAgVGhpcyBmdW5jdGlvbiB0YWtlcyBpbiBmb3JtaWRhYmxlIGZpbGUgZGF0YSwgdXBsb2FkcyBpdCB0byB0aGUgczMgYnVja2V0LCB0aGVuIGRlbGV0ZXMgdGhlIGltYWdlIGRhdGEgb2ZmIG9mIHRoZSBzZXJ2ZXIgaWYgdGhlIHVwbG9hZCB3YXMgc3VjY2Vzc2Z1bC5cbiAgICAqL1xuICAgIHRyeSB7XG4gICAgICAgIC8vZ2V0IHRoZSBkYXRhIG9mIHRoZSBpbWFnZSBzYXZlZCBvbiB0aGUgc2VydmVyXG4gICAgICAgIGNvbnN0IGltYWdlRmlsZVBhdGggPSBmb3JtaWRhYmxlRmlsZXMuaW1hZ2VGaWxlWzBdLmZpbGVwYXRoO1xuICAgICAgICBjb25zdCBpbWFnZURhdGEgPSBhd2FpdCBmcy5wcm9taXNlcy5yZWFkRmlsZShpbWFnZUZpbGVQYXRoKTtcblxuICAgICAgICAvL2VzdGFibGlzaCBjb25uZWN0aW4gd2l0aCBTMyB1c2luZyBhY2Nlc3Mga2V5XG4gICAgICAgIGNvbnN0IHMzID0gbmV3IEFXUy5TMyh7XG4gICAgICAgICAgICBhcGlWZXJzaW9uOiAnMjAwNi0wMy0wMScsXG4gICAgICAgICAgICBhY2Nlc3NLZXlJZDogcHJvY2Vzcy5lbnYuUzNfQUNDRVNTX0tFWSxcbiAgICAgICAgICAgIHNlY3JldEFjY2Vzc0tleTogcHJvY2Vzcy5lbnYuUzNfU0VDUkVUX0FDQ0VTU19LRVksXG4gICAgICAgICAgICByZWdpb246IHByb2Nlc3MuZW52LlMzX0JVQ0tFVF9SRUdJT05cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy9VcGxvYWQgdGhlIGltYWdlIHRvIFMzXG4gICAgICAgIGNvbnN0IHMzUmVzcG9uc2UgPSBhd2FpdCBzMy5wdXRPYmplY3Qoe1xuICAgICAgICAgICAgQm9keTogaW1hZ2VEYXRhLFxuICAgICAgICAgICAgQnVja2V0OiBcInNvcGhzLW1lbnUtYnVja2V0XCIsXG4gICAgICAgICAgICBLZXk6IHBob3RvS2V5XG4gICAgICAgIH0pLnByb21pc2UoKTtcblxuICAgICAgICAvL0RlbGV0ZSB0aGUgZmlsZSBmcm9tIHRoZSBzZXJ2ZXIgYWZ0ZXJ3YXJkc1xuICAgICAgICBmcy51bmxpbmsoaW1hZ2VGaWxlUGF0aCwgKGVycikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycm9yIGRlbGV0aW5nIGZpbGU6IFwiLCBlcnIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlN1Y2Nlc3NmdWxseSBkZWxldGVkIGZpbGUgZnJvbSBzZXJ2ZXJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB7c3RhdHVzOiBcIlN1Y2Nlc3NcIiwgcmVzcG9uc2U6IHMzUmVzcG9uc2V9O1xuXG4gICAgfSBjYXRjaChlcnIpe1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiVGhlcmUgd2FzIGFuIGVycm9yIGluIGltYWdlIHVwbG9hZCBvciBzZXJ2ZXIgZmlsZSBkZWxldGlvbjpcIiwgZXJyKVxuICAgICAgICByZXR1cm4ge3N0YXR1czogXCJGYWlsdXJlXCIsIHJlc3BvbnNlOiBudWxsLCBlcnI6IGVycn1cbiAgICB9XG5cbn07XG4iXSwibmFtZXMiOlsiZnMiLCJyZXF1aXJlIiwiQVdTIiwiVXBsb2FkUGhvdG8iLCJmb3JtaWRhYmxlRmlsZXMiLCJwaG90b0tleSIsImltYWdlRmlsZVBhdGgiLCJpbWFnZUZpbGUiLCJmaWxlcGF0aCIsImltYWdlRGF0YSIsInByb21pc2VzIiwicmVhZEZpbGUiLCJzMyIsIlMzIiwiYXBpVmVyc2lvbiIsImFjY2Vzc0tleUlkIiwicHJvY2VzcyIsImVudiIsIlMzX0FDQ0VTU19LRVkiLCJzZWNyZXRBY2Nlc3NLZXkiLCJTM19TRUNSRVRfQUNDRVNTX0tFWSIsInJlZ2lvbiIsIlMzX0JVQ0tFVF9SRUdJT04iLCJzM1Jlc3BvbnNlIiwicHV0T2JqZWN0IiwiQm9keSIsIkJ1Y2tldCIsIktleSIsInByb21pc2UiLCJ1bmxpbmsiLCJlcnIiLCJFcnJvciIsImNvbnNvbGUiLCJsb2ciLCJzdGF0dXMiLCJyZXNwb25zZSIsImVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./components/requests/uploadPhoto.tsx\n");

/***/ }),

/***/ "(api)/./pages/api/auth/[...nextauth].ts":
/*!*****************************************!*\
  !*** ./pages/api/auth/[...nextauth].ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"next-auth\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/google */ \"next-auth/providers/google\");\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst authOptions = {\n    // Configure one or more authentication providers\n    providers: [\n        next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1___default()({\n            clientId: process.env.GOOGLE_CLIENT_ID,\n            clientSecret: process.env.GOOGLE_CLIENT_SECRET,\n            authorization: {\n                params: {\n                    prompt: \"consent\",\n                    access_type: \"offline\",\n                    response_type: \"code\"\n                }\n            }\n        })\n    ]\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (next_auth__WEBPACK_IMPORTED_MODULE_0___default()(authOptions));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFzRDtBQUVFO0FBRWpELE1BQU1FLGNBQStCO0lBQzFDLGlEQUFpRDtJQUNqREMsV0FBVztRQUNURixpRUFBY0EsQ0FBQztZQUNiRyxVQUFVQyxRQUFRQyxHQUFHLENBQUNDLGdCQUFnQjtZQUN0Q0MsY0FBY0gsUUFBUUMsR0FBRyxDQUFDRyxvQkFBb0I7WUFDOUNDLGVBQWU7Z0JBQ2JDLFFBQVE7b0JBQ05DLFFBQVE7b0JBQ1JDLGFBQWE7b0JBQ2JDLGVBQWU7Z0JBQ2pCO1lBQ0Y7UUFDRjtLQUNEO0FBQ0gsRUFBRTtBQUVGLGlFQUFlZCxnREFBUUEsQ0FBQ0UsWUFBWUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3BhZ2VzL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0udHM/MmU4YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTmV4dEF1dGgsIHsgTmV4dEF1dGhPcHRpb25zIH0gZnJvbSBcIm5leHQtYXV0aFwiO1xuaW1wb3J0IEdpdGh1YlByb3ZpZGVyIGZyb20gXCJuZXh0LWF1dGgvcHJvdmlkZXJzL2dpdGh1YlwiO1xuaW1wb3J0IEdvb2dsZVByb3ZpZGVyIGZyb20gXCJuZXh0LWF1dGgvcHJvdmlkZXJzL2dvb2dsZVwiO1xuXG5leHBvcnQgY29uc3QgYXV0aE9wdGlvbnM6IE5leHRBdXRoT3B0aW9ucyA9IHtcbiAgLy8gQ29uZmlndXJlIG9uZSBvciBtb3JlIGF1dGhlbnRpY2F0aW9uIHByb3ZpZGVyc1xuICBwcm92aWRlcnM6IFtcbiAgICBHb29nbGVQcm92aWRlcih7XG4gICAgICBjbGllbnRJZDogcHJvY2Vzcy5lbnYuR09PR0xFX0NMSUVOVF9JRCEsXG4gICAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LkdPT0dMRV9DTElFTlRfU0VDUkVUISxcbiAgICAgIGF1dGhvcml6YXRpb246IHtcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgcHJvbXB0OiBcImNvbnNlbnRcIixcbiAgICAgICAgICBhY2Nlc3NfdHlwZTogXCJvZmZsaW5lXCIsXG4gICAgICAgICAgcmVzcG9uc2VfdHlwZTogXCJjb2RlXCJcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIF1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IE5leHRBdXRoKGF1dGhPcHRpb25zKTsiXSwibmFtZXMiOlsiTmV4dEF1dGgiLCJHb29nbGVQcm92aWRlciIsImF1dGhPcHRpb25zIiwicHJvdmlkZXJzIiwiY2xpZW50SWQiLCJwcm9jZXNzIiwiZW52IiwiR09PR0xFX0NMSUVOVF9JRCIsImNsaWVudFNlY3JldCIsIkdPT0dMRV9DTElFTlRfU0VDUkVUIiwiYXV0aG9yaXphdGlvbiIsInBhcmFtcyIsInByb21wdCIsImFjY2Vzc190eXBlIiwicmVzcG9uc2VfdHlwZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/auth/[...nextauth].ts\n");

/***/ }),

/***/ "(api)/./pages/api/recipes/index.ts":
/*!************************************!*\
  !*** ./pages/api/recipes/index.ts ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _backend_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../backend-utils */ \"(api)/./backend-utils.js\");\n/* harmony import */ var _components_functions_encrypt__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../components/functions/encrypt */ \"(api)/./components/functions/encrypt.tsx\");\n/* harmony import */ var next_auth_next__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth/next */ \"next-auth/next\");\n/* harmony import */ var next_auth_next__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_auth_next__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _auth_nextauth___WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../auth/[...nextauth] */ \"(api)/./pages/api/auth/[...nextauth].ts\");\n/* harmony import */ var _components_requests_uploadPhoto__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../components/requests/uploadPhoto */ \"(api)/./components/requests/uploadPhoto.tsx\");\n/* harmony import */ var formidable__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! formidable */ \"formidable\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([formidable__WEBPACK_IMPORTED_MODULE_5__]);\nformidable__WEBPACK_IMPORTED_MODULE_5__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n/*\nThis function will handle the get all recipes and put recipe calls\n*/ \n\n\n\n\n\nconst config = {\n    api: {\n        bodyParser: false\n    }\n};\nasync function handler(req, res) {\n    const method = req.method;\n    if (method == \"GET\") {\n        try {\n            const client = await _backend_utils__WEBPACK_IMPORTED_MODULE_0__[\"default\"].connect();\n            const data = await client.query(\"SELECT recipe_id, recipe_name, prep_time_in_min, rating, meal FROM recipes;\");\n            res.status(200).json({\n                body: data\n            });\n        } catch (error) {\n            res.status(500).json({\n                message: \"There was an error and we could not complete your get all recipes request. Error: \" + error\n            });\n        }\n    } else if (method == \"PUT\") {\n        try {\n            //ensure the user is authorized to make a put request then encrypt the user identifier\n            const session = await (0,next_auth_next__WEBPACK_IMPORTED_MODULE_2__.getServerSession)(req, res, _auth_nextauth___WEBPACK_IMPORTED_MODULE_3__.authOptions);\n            if (!session) {\n                return res.status(500).json({\n                    message: \"The request was unauthorized\"\n                });\n            }\n            const user_encrypted = (0,_components_functions_encrypt__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(session.user.email);\n            //parse the form data with formidable\n            const form = (0,formidable__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({});\n            const [fields, files] = await form.parse(req);\n            //Insert the data into the database and return the recipe_id\n            const { recipe_name, ingredients, prep_time, rating, meal, instructions } = JSON.parse(fields.data[0]);\n            const recipesResponse = await _backend_utils__WEBPACK_IMPORTED_MODULE_0__[\"default\"].query(`INSERT INTO recipes(recipe_name, prep_time_in_min, rating, meal, user_encrypted) VALUES ('${recipe_name}', ${prep_time}, ${rating}, '${meal}', '${user_encrypted}') RETURNING recipe_id;`);\n            const [{ recipe_id }] = recipesResponse.rows;\n            //Upload the image file to an S3 bucket\n            const uploadPhotoResponse = await (0,_components_requests_uploadPhoto__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(files, `${recipe_id}`);\n            if (uploadPhotoResponse.err && uploadPhotoResponse.status === \"Failure\") {\n                console.log(\"S3Response: \");\n                console.log(uploadPhotoResponse.response);\n                throw new Error(uploadPhotoResponse.err);\n            }\n            //Insert the instructions into the database. I create separate SQL inserts for each instruction by creating a long string, then insert them all in one command\n            let instructionsValues = \"\";\n            instructions.forEach((instruction, i)=>{\n                if (i == 0) {\n                    instructionsValues += `(${recipe_id}, ${i}, '${instruction}')`;\n                } else {\n                    instructionsValues += `, (${recipe_id}, ${i}, '${instruction}')`;\n                }\n            });\n            const instructionsResponse = await _backend_utils__WEBPACK_IMPORTED_MODULE_0__[\"default\"].query(`INSERT INTO recipe_instructions(recipe_id, instruction_order, instruction) VALUES ${instructionsValues};`);\n            //Here, I build the value portion of the ingredients SQL put query (as a string) that will go into the database\n            let ingredientValues = \"\";\n            ingredients.forEach((ingredient, i)=>{\n                if (i == 0) {\n                    ingredientValues += `(${recipe_id}, '${ingredient}')`;\n                } else {\n                    ingredientValues += `, (${recipe_id}, '${ingredient}')`;\n                }\n            });\n            const ingredientsResponse = await _backend_utils__WEBPACK_IMPORTED_MODULE_0__[\"default\"].query(`INSERT INTO recipe_ingredients(recipe_id, ingredient) VALUES ${ingredientValues};`);\n            res.status(200).json({\n                message: [\n                    uploadPhotoResponse,\n                    recipesResponse,\n                    instructionsResponse,\n                    ingredientsResponse\n                ]\n            });\n        } catch (err) {\n            res.status(500).json({\n                message: \"There was an error and we could not insert your recipe data.\"\n            });\n        }\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q3ZCcEIsWUFBWWdCLE9BQU8sQ0FBQyxDQUFDSyxZQUFZSDtnQkFDN0IsSUFBSUEsS0FBRyxHQUFFO29CQUNMRSxvQkFBa0IsQ0FBQyxDQUFDLEVBQUViLFVBQVUsR0FBRyxFQUFFYyxXQUFXLEVBQUUsQ0FBQztnQkFDdkQsT0FBTztvQkFDSEQsb0JBQWtCLENBQUMsR0FBRyxFQUFFYixVQUFVLEdBQUcsRUFBRWMsV0FBVyxFQUFFLENBQUM7Z0JBQ3pEO1lBQ0o7WUFDQSxNQUFNQyxzQkFBc0IsTUFBTXJELDREQUFVLENBQUMsQ0FBQyw2REFBNkQsRUFBRW1ELGlCQUFpQixDQUFDLENBQUM7WUFFaEl4QyxJQUFJTSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUFDRyxTQUFTO29CQUFDbUI7b0JBQXFCSDtvQkFBaUJhO29CQUFzQkc7aUJBQW9CO1lBQUE7UUFDcEgsRUFBRSxPQUFNWixLQUFLO1lBQ1Q5QixJQUFJTSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUFDRyxTQUFTO1lBQWdFO1FBQ25HO0lBQ0o7QUFFSiIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3BhZ2VzL2FwaS9yZWNpcGVzL2luZGV4LnRzPzRkMTMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcblRoaXMgZnVuY3Rpb24gd2lsbCBoYW5kbGUgdGhlIGdldCBhbGwgcmVjaXBlcyBhbmQgcHV0IHJlY2lwZSBjYWxsc1xuKi9cbmltcG9ydCBwb29sIGZyb20gJy4uLy4uLy4uL2JhY2tlbmQtdXRpbHMnO1xuaW1wb3J0IEVuY3J5cHQgZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9mdW5jdGlvbnMvZW5jcnlwdCc7XG5pbXBvcnQgeyBnZXRTZXJ2ZXJTZXNzaW9uIH0gZnJvbSAnbmV4dC1hdXRoL25leHQnO1xuaW1wb3J0IHsgYXV0aE9wdGlvbnMgfSBmcm9tICcuLi9hdXRoL1suLi5uZXh0YXV0aF0nO1xuaW1wb3J0IFVwbG9hZFBob3RvIGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvcmVxdWVzdHMvdXBsb2FkUGhvdG8nO1xuaW1wb3J0IGZvcm1pZGFibGUgZnJvbSAnZm9ybWlkYWJsZSc7XG5cblxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IHtcbiAgICBhcGk6IHtcbiAgICAgIGJvZHlQYXJzZXI6IGZhbHNlLCAvLyBEaXNhYmxlIHRoZSBkZWZhdWx0IGJvZHlQYXJzZXJcbiAgICB9LFxuICB9O1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKXtcbiAgICBjb25zdCBtZXRob2QgPSByZXEubWV0aG9kO1xuICAgIGlmIChtZXRob2QgPT0gJ0dFVCcpe1xuICAgICAgICB0cnl7XG4gICAgICAgICAgICBjb25zdCBjbGllbnQgPSBhd2FpdCBwb29sLmNvbm5lY3QoKVxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGNsaWVudC5xdWVyeSgnU0VMRUNUIHJlY2lwZV9pZCwgcmVjaXBlX25hbWUsIHByZXBfdGltZV9pbl9taW4sIHJhdGluZywgbWVhbCBGUk9NIHJlY2lwZXM7Jyk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IGJvZHk6IGRhdGEgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7bWVzc2FnZTogJ1RoZXJlIHdhcyBhbiBlcnJvciBhbmQgd2UgY291bGQgbm90IGNvbXBsZXRlIHlvdXIgZ2V0IGFsbCByZWNpcGVzIHJlcXVlc3QuIEVycm9yOiAnKyBlcnJvcn0pO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChtZXRob2QgPT0gJ1BVVCcpe1xuICAgICAgICB0cnl7XG5cbiAgICAgICAgICAgIC8vZW5zdXJlIHRoZSB1c2VyIGlzIGF1dGhvcml6ZWQgdG8gbWFrZSBhIHB1dCByZXF1ZXN0IHRoZW4gZW5jcnlwdCB0aGUgdXNlciBpZGVudGlmaWVyXG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2VydmVyU2Vzc2lvbihyZXEsIHJlcywgYXV0aE9wdGlvbnMpO1xuICAgICAgICAgICAgaWYgKCFzZXNzaW9uKSB7IC8vcmV0dXJuIGFuIGVycm9yIG1lc3NhZ2UgaWYgdGhlIHVzZXIgaXMgdW5hdXRob3JpemVkXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ1RoZSByZXF1ZXN0IHdhcyB1bmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdXNlcl9lbmNyeXB0ZWQgPSBFbmNyeXB0KHNlc3Npb24udXNlci5lbWFpbCk7XG5cbiAgICAgICAgICAgIC8vcGFyc2UgdGhlIGZvcm0gZGF0YSB3aXRoIGZvcm1pZGFibGVcbiAgICAgICAgICAgIGNvbnN0IGZvcm0gPSBmb3JtaWRhYmxlKHt9KTtcbiAgICAgICAgICAgIGNvbnN0IFtmaWVsZHMsIGZpbGVzXSA9IGF3YWl0IGZvcm0ucGFyc2UocmVxKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy9JbnNlcnQgdGhlIGRhdGEgaW50byB0aGUgZGF0YWJhc2UgYW5kIHJldHVybiB0aGUgcmVjaXBlX2lkXG4gICAgICAgICAgICBjb25zdCB7cmVjaXBlX25hbWUsIGluZ3JlZGllbnRzLCBwcmVwX3RpbWUsIHJhdGluZywgbWVhbCwgaW5zdHJ1Y3Rpb25zfSA9IEpTT04ucGFyc2UoZmllbGRzLmRhdGFbMF0pO1xuICAgICAgICAgICAgY29uc3QgcmVjaXBlc1Jlc3BvbnNlID0gYXdhaXQgcG9vbC5xdWVyeShgSU5TRVJUIElOVE8gcmVjaXBlcyhyZWNpcGVfbmFtZSwgcHJlcF90aW1lX2luX21pbiwgcmF0aW5nLCBtZWFsLCB1c2VyX2VuY3J5cHRlZCkgVkFMVUVTICgnJHtyZWNpcGVfbmFtZX0nLCAke3ByZXBfdGltZX0sICR7cmF0aW5nfSwgJyR7bWVhbH0nLCAnJHt1c2VyX2VuY3J5cHRlZH0nKSBSRVRVUk5JTkcgcmVjaXBlX2lkO2ApO1xuICAgICAgICAgICAgY29uc3QgW3tyZWNpcGVfaWR9XSA9IHJlY2lwZXNSZXNwb25zZS5yb3dzXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vVXBsb2FkIHRoZSBpbWFnZSBmaWxlIHRvIGFuIFMzIGJ1Y2tldFxuICAgICAgICAgICAgY29uc3QgdXBsb2FkUGhvdG9SZXNwb25zZSA9IGF3YWl0IFVwbG9hZFBob3RvKGZpbGVzLCBgJHtyZWNpcGVfaWR9YCk7XG4gICAgICAgICAgICBpZiAodXBsb2FkUGhvdG9SZXNwb25zZS5lcnIgJiYgdXBsb2FkUGhvdG9SZXNwb25zZS5zdGF0dXM9PT0nRmFpbHVyZScpe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTM1Jlc3BvbnNlOiAnKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHVwbG9hZFBob3RvUmVzcG9uc2UucmVzcG9uc2UpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHVwbG9hZFBob3RvUmVzcG9uc2UuZXJyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9JbnNlcnQgdGhlIGluc3RydWN0aW9ucyBpbnRvIHRoZSBkYXRhYmFzZS4gSSBjcmVhdGUgc2VwYXJhdGUgU1FMIGluc2VydHMgZm9yIGVhY2ggaW5zdHJ1Y3Rpb24gYnkgY3JlYXRpbmcgYSBsb25nIHN0cmluZywgdGhlbiBpbnNlcnQgdGhlbSBhbGwgaW4gb25lIGNvbW1hbmRcbiAgICAgICAgICAgIGxldCBpbnN0cnVjdGlvbnNWYWx1ZXMgPSAnJ1xuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zLmZvckVhY2goKGluc3RydWN0aW9uLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGk9PTApe1xuICAgICAgICAgICAgICAgICAgICBpbnN0cnVjdGlvbnNWYWx1ZXMrPWAoJHtyZWNpcGVfaWR9LCAke2l9LCAnJHtpbnN0cnVjdGlvbn0nKWBcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpbnN0cnVjdGlvbnNWYWx1ZXMrPWAsICgke3JlY2lwZV9pZH0sICR7aX0sICcke2luc3RydWN0aW9ufScpYFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgaW5zdHJ1Y3Rpb25zUmVzcG9uc2UgPSBhd2FpdCBwb29sLnF1ZXJ5KGBJTlNFUlQgSU5UTyByZWNpcGVfaW5zdHJ1Y3Rpb25zKHJlY2lwZV9pZCwgaW5zdHJ1Y3Rpb25fb3JkZXIsIGluc3RydWN0aW9uKSBWQUxVRVMgJHtpbnN0cnVjdGlvbnNWYWx1ZXN9O2ApXG5cbiAgICAgICAgICAgIC8vSGVyZSwgSSBidWlsZCB0aGUgdmFsdWUgcG9ydGlvbiBvZiB0aGUgaW5ncmVkaWVudHMgU1FMIHB1dCBxdWVyeSAoYXMgYSBzdHJpbmcpIHRoYXQgd2lsbCBnbyBpbnRvIHRoZSBkYXRhYmFzZVxuICAgICAgICAgICAgbGV0IGluZ3JlZGllbnRWYWx1ZXMgPSAnJ1xuICAgICAgICAgICAgaW5ncmVkaWVudHMuZm9yRWFjaCgoaW5ncmVkaWVudCwgaSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpPT0wKXtcbiAgICAgICAgICAgICAgICAgICAgaW5ncmVkaWVudFZhbHVlcys9YCgke3JlY2lwZV9pZH0sICcke2luZ3JlZGllbnR9JylgXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaW5ncmVkaWVudFZhbHVlcys9YCwgKCR7cmVjaXBlX2lkfSwgJyR7aW5ncmVkaWVudH0nKWBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IGluZ3JlZGllbnRzUmVzcG9uc2UgPSBhd2FpdCBwb29sLnF1ZXJ5KGBJTlNFUlQgSU5UTyByZWNpcGVfaW5ncmVkaWVudHMocmVjaXBlX2lkLCBpbmdyZWRpZW50KSBWQUxVRVMgJHtpbmdyZWRpZW50VmFsdWVzfTtgKVxuXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7bWVzc2FnZTogW3VwbG9hZFBob3RvUmVzcG9uc2UsIHJlY2lwZXNSZXNwb25zZSwgaW5zdHJ1Y3Rpb25zUmVzcG9uc2UsIGluZ3JlZGllbnRzUmVzcG9uc2VdfSk7XG4gICAgICAgIH0gY2F0Y2goZXJyKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7bWVzc2FnZTogJ1RoZXJlIHdhcyBhbiBlcnJvciBhbmQgd2UgY291bGQgbm90IGluc2VydCB5b3VyIHJlY2lwZSBkYXRhLicsIH0pXG4gICAgICAgIH1cbiAgICB9XG5cbn0iXSwibmFtZXMiOlsicG9vbCIsIkVuY3J5cHQiLCJnZXRTZXJ2ZXJTZXNzaW9uIiwiYXV0aE9wdGlvbnMiLCJVcGxvYWRQaG90byIsImZvcm1pZGFibGUiLCJjb25maWciLCJhcGkiLCJib2R5UGFyc2VyIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsImNsaWVudCIsImNvbm5lY3QiLCJkYXRhIiwicXVlcnkiLCJzdGF0dXMiLCJqc29uIiwiYm9keSIsImVycm9yIiwibWVzc2FnZSIsInNlc3Npb24iLCJ1c2VyX2VuY3J5cHRlZCIsInVzZXIiLCJlbWFpbCIsImZvcm0iLCJmaWVsZHMiLCJmaWxlcyIsInBhcnNlIiwicmVjaXBlX25hbWUiLCJpbmdyZWRpZW50cyIsInByZXBfdGltZSIsInJhdGluZyIsIm1lYWwiLCJpbnN0cnVjdGlvbnMiLCJKU09OIiwicmVjaXBlc1Jlc3BvbnNlIiwicmVjaXBlX2lkIiwicm93cyIsInVwbG9hZFBob3RvUmVzcG9uc2UiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwicmVzcG9uc2UiLCJFcnJvciIsImluc3RydWN0aW9uc1ZhbHVlcyIsImZvckVhY2giLCJpbnN0cnVjdGlvbiIsImkiLCJpbnN0cnVjdGlvbnNSZXNwb25zZSIsImluZ3JlZGllbnRWYWx1ZXMiLCJpbmdyZWRpZW50IiwiaW5ncmVkaWVudHNSZXNwb25zZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/recipes/index.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Frecipes&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Frecipes%2Findex.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();